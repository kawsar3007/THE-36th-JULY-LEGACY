<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DISTRICT LEGACY | Official Map</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --b-bg: #0B0E11; --b-card: #1E2329; --b-yellow: #FCD535; }
        body { background: var(--b-bg); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; text-align: center; overflow-x: hidden; scroll-behavior: smooth; }

        /* ‡¶õ‡ßã‡¶ü ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö‡¶¨‡¶æ‡¶∞ ‡¶ì ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® */
        .top-nav { position: sticky; top: 0; background: var(--b-card); padding: 10px 2%; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--b-yellow); z-index: 1000; gap: 10px; }
        
        .nav-item { display: flex; align-items: center; gap: 8px; background: #161a1e; padding: 6px 12px; border-radius: 50px; border: 1px solid #333; cursor: pointer; }
        .gold-icon { width: 30px; height: 30px; background: var(--b-yellow); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-size: 14px; }
        
        /* ‡¶õ‡ßã‡¶ü ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶á‡¶®‡¶™‡ßÅ‡¶ü */
        .mini-search { display: flex; background: #0b0e11; border: 1px solid #444; border-radius: 5px; overflow: hidden; }
        .mini-search input { background: transparent; border: none; padding: 8px; color: #fff; width: 100px; outline: none; font-size: 13px; }
        .mini-search button { background: var(--b-yellow); border: none; padding: 0 10px; cursor: pointer; font-weight: bold; }

        /* ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶≠‡¶æ‡¶∏: ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶• ‡¶¨‡¶æ‡ßú‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
        .canvas-container { width: calc(100% - 20px); max-width: 1200px; margin: 10px auto; background: #fff; position: relative; border: 1px solid #ddd; }
        canvas { display: block; width: 100%; height: auto; }
        #plotMarker { position: absolute; width: 46px; height: 46px; border: 4px solid var(--b-yellow); box-shadow: 0 0 20px var(--b-yellow); display: none; pointer-events: none; z-index: 10; }

        /* ‡¶™‡¶™‡¶Ü‡¶™ ‡¶ì ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶® */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; justify-content: center; align-items: center; }
        .full-yellow-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: var(--b-yellow); display: none; z-index: 9998; }
        .modal-box { background: var(--b-card); padding: 25px; border-radius: 15px; width: 90%; max-width: 380px; border: 2px solid var(--b-yellow); text-align: left; }
        
        input[type="text"], input[type="number"] { width: 100%; padding: 12px; margin: 10px 0; background: #2b3139; border: 1px solid #444; color: #fff; border-radius: 8px; box-sizing: border-box; }
        
        .support-list { background: #0B0E11; padding: 15px; border-radius: 10px; font-size: 14px; margin: 15px 0; border-left: 5px solid var(--b-yellow); }
        .support-list li { margin-bottom: 8px; list-style: none; color: #EAECEF; }

        .wa-float { position: fixed; bottom: 25px; right: 25px; background: #2ebd85; color: #fff; padding: 12px 20px; border-radius: 50px; text-decoration: none; font-weight: bold; display: flex; align-items: center; gap: 8px; z-index: 2000; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
    </style>
</head>
<body id="pageBody">

<div class="top-nav">
    <div class="nav-item" onclick="copyPay()">
        <div class="gold-icon"><i class="fas fa-university"></i></div>
        <div style="text-align: left; line-height: 1.2;">
            <span style="font-size: 9px; color: var(--b-yellow); font-weight: bold;">BKASH, NAGAD, ROCKET</span><br>
            <b style="font-size: 13px;">01756206213</b>
        </div>
    </div>

    <div class="mini-search">
        <input type="number" id="plotInput" placeholder="Plot ID">
        <button onclick="searchPlot()"><i class="fas fa-search"></i></button>
    </div>

    <div class="nav-item" style="background: var(--b-yellow); border: none;" onclick="openBuy()">
        <div class="gold-icon" style="background: #000; color: var(--b-yellow);"><i class="fas fa-cart-plus"></i></div>
        <b style="color: #000; font-size: 13px;">BUY PLOT (‡ß≥36)</b>
    </div>
</div>

<div class="canvas-container">
    <div id="plotMarker"></div>
    <canvas id="legacyCanvas"></canvas>
</div>

<div id="yellowOverlay" class="full-yellow-overlay"></div>

<div id="buyModal" class="modal">
    <div class="modal-box">
        <h2 style="color:var(--b-yellow); text-align:center;">RESERVE PLOT</h2>
        <input type="text" id="bName" placeholder="Enter Brand Name">
        <input type="number" id="pID" placeholder="Enter Plot ID (1-10000)">
        <button onclick="handleOrder()" style="width:100%; background:var(--b-yellow); border:none; padding:15px; border-radius:8px; font-weight:bold; cursor:pointer; font-size: 16px;">SUBMIT ORDER</button>
        <p onclick="closeModals()" style="text-align:center; color:#848e9c; cursor:pointer; margin-top:15px;">Cancel</p>
    </div>
</div>

<div id="supportModal" class="modal">
    <div class="modal-box" id="supportContent">
        <h2 id="modalTitle" style="color:var(--b-yellow); text-align:center;">CREATOR SUPPORT</h2>
        <p style="font-size: 14px; text-align:center;">Submit these details via WhatsApp:</p>
        <div class="support-list">
            <li><strong>1. Payment:</strong> Screenshot of ‡ß≥36 Transfer.</li>
            <li><strong>2. Order Info:</strong> Brand Name & Reserved Plot ID.</li>
            <li><strong>3. Image:</strong> Your Logo or Photo for the Plot.</li>
            <li><strong>4. Link:</strong> Website or Social Media URL.</li>
        </div>
        <a href="https://wa.me/8801576940717" target="_blank" style="display:block; background:#2ebd85; color:#fff; text-align:center; padding:15px; border-radius:10px; text-decoration:none; font-weight:bold;">OPEN WHATSAPP</a>
        
        <div style="display:flex; justify-content:space-between; margin-top:20px;">
            <a href="index.html" style="color:var(--b-yellow); text-decoration:none; font-size:14px;">‚Üê Home Page</a>
            <span onclick="location.reload()" style="color:#848e9c; cursor:pointer; font-size:14px;">Back to Map</span>
        </div>
    </div>
</div>

<a href="javascript:void(0)" class="wa-float" onclick="openSupport()">
    <i class="fab fa-whatsapp" style="font-size: 24px;"></i> LIVE SUPPORT
</a>

<script>
    const cv = document.getElementById('legacyCanvas');
    const ctx = cv.getContext('2d');
    const bSize = 50; 
    const cols = 20; // ‡ßß‡ß¶‡ß¶‡ß¶ ‡¶™‡¶ø‡¶ï‡ßç‡¶∏‡ßá‡¶≤ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶•‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡ß®‡ß¶‡¶ü‡¶ø ‡¶ï‡¶≤‡¶æ‡¶Æ

    cv.width = 1000;
    cv.height = (10000/cols) * bSize;

    function drawGrid() {
        ctx.fillStyle = "#fff"; ctx.fillRect(0,0,cv.width, cv.height);
        ctx.strokeStyle = "#eee"; ctx.lineWidth = 1;
        for(let x=0; x<=cv.width; x+=bSize){ ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,cv.height); ctx.stroke(); }
        for(let y=0; y<=cv.height; y+=bSize){ ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(cv.width,y); ctx.stroke(); }
    }
    drawGrid();

    // ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function searchPlot() {
        const pNum = document.getElementById('plotInput').value;
        if(!pNum || pNum < 1 || pNum > 10000) return alert("Valid ID 1-10000!");
        const r = Math.floor((pNum-1)/cols), c = (pNum-1)%cols;
        const marker = document.getElementById('plotMarker');
        marker.style.display = 'block';
        marker.style.left = (c * bSize) + "px";
        marker.style.top = (r * bSize) + "px";
        window.scrollTo({ top: cv.offsetTop + (r * bSize) - 200, behavior: 'smooth' });
    }

    function copyPay() { navigator.clipboard.writeText("01756206213"); alert("Payment Number Copied!"); }
    function openBuy() { document.getElementById('buyModal').style.display='flex'; }
    function openSupport() { document.getElementById('supportModal').style.display='flex'; }
    function closeModals() { document.querySelectorAll('.modal').forEach(m => m.style.display='none'); }

    // ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶ø‡¶Ç ‡¶ì ‡¶á‡ßü‡ßá‡¶≤‡ßã ‡¶™‡ßá‡¶ú ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü
    function handleOrder() {
        const name = document.getElementById('bName').value, plot = document.getElementById('pID').value;
        if(!name || !plot) return alert("Fill all fields!");

        document.getElementById('buyModal').style.display = 'none';
        const overlay = document.getElementById('yellowOverlay');
        const sModal = document.getElementById('supportModal');
        const sBox = document.getElementById('supportContent');

        // ‡ßß. ‡¶á‡ßü‡ßá‡¶≤‡ßã ‡¶™‡ßá‡¶ú ‡¶¶‡¶ø‡ßü‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶≠‡¶æ‡¶∏ ‡¶¢‡ßá‡¶ï‡ßá ‡¶´‡ßá‡¶≤‡¶æ
        overlay.style.display = 'block';
        sModal.style.display = 'flex';
        sBox.style.background = "var(--b-yellow)";
        sBox.style.color = "#000";
        document.getElementById('modalTitle').innerText = "SUCCESS! üéâ";
        document.getElementById('modalTitle').style.color = "#000";

        // ‡ß®. ‡¶∞‡¶ô‡¶ø‡¶® ‡¶ï‡¶®‡¶´‡ßá‡¶ü‡¶ø
        var end = Date.now() + 4000;
        (function frame() {
            confetti({ particleCount: 10, angle: 60, spread: 70, origin: { x: 0, y: 0.6 }, colors: ['#ff0000', '#0000ff', '#ffffff', '#000'] });
            confetti({ particleCount: 10, angle: 120, spread: 70, origin: { x: 1, y: 0.6 }, colors: ['#ff0000', '#0000ff', '#ffffff', '#000'] });
            if (Date.now() < end) requestAnimationFrame(frame);
        }());

        // ‡ß©. ‡ß™ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶ì ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
        setTimeout(() => {
            overlay.style.display = 'none';
            sBox.style.background = "var(--b-card)";
            sBox.style.color = "#fff";
            document.getElementById('modalTitle').innerText = "CREATOR SUPPORT";
            document.getElementById('modalTitle').style.color = "var(--b-yellow)";
        }, 4000);
    }
</script>
</body>
</html>
