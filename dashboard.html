<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AETHER REALM | Plot Canvas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="background: #000;">

    <div class="canvas-header">
        <h1 id="realmTitle">LOADING REALM...</h1>
        <p>SELECT YOUR 100x100 DIGITAL ASSET</p>
    </div>

    <div class="map-wrapper">
        <div class="plot-canvas" id="plotCanvas">
            </div>
    </div>

    <div id="buyModal" class="modal">
        <div class="modal-content">
            <h2 id="mID">PLOT #00</h2>
            <h1 id="mPrice" class="gold-text">$0</h1>
            <p>Permanent Ownership | Instant Deployment</p>
            <button class="buy-btn" onclick="goToOrder()">PROCEED TO PAYMENT</button>
            <button class="close-btn" onclick="closeModal()">CANCEL</button>
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        document.getElementById('realmTitle').innerText = (urlParams.get('realm') || 'AETHER') + " REALM";

        const canvas = document.getElementById('plotCanvas');
        let selectedPlot = "";
        let selectedPrice = "";

        for (let i = 1; i <= 100; i++) {
            const plot = document.createElement('div');
            plot.className = 'plot-unit';
            
            let price = "";
            if (i <= 5) { plot.classList.add('p-leader'); price = 9999; }
            else if (i <= 20) { plot.classList.add('p-tier-1'); price = 999; }
            else if (i <= 50) { plot.classList.add('p-tier-2'); price = 499; }
            else { plot.classList.add('p-tier-3'); price = 199; }

            plot.innerHTML = `<span>#${i}</span><div class="price-tag">$${price}</div>`;
            plot.onclick = () => {
                selectedPlot = i;
                selectedPrice = price;
                document.getElementById('mID').innerText = "PLOT #" + i;
                document.getElementById('mPrice').innerText = "$" + price;
                document.getElementById('buyModal').style.display = 'flex';
            };
            canvas.appendChild(plot);
        }

        function closeModal() { document.getElementById('buyModal').style.display = 'none'; }
        function goToOrder() { window.location.href = `order.html?id=${selectedPlot}&price=${selectedPrice}`; }
    </script>
</body>
</html>
